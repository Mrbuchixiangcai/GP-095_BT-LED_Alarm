C51 COMPILER V9.00   LED_MODE                                                              11/09/2018 13:59:03 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE LED_MODE
OBJECT MODULE PLACED IN .\Objects\LED_Mode.obj
COMPILER INVOKED BY: D:\ProgramFiles\Keil_v5\C51\BIN\C51.EXE App_User\Source\LED_Mode.c OPTIMIZE(8,SPEED) BROWSE INCDIR(
                    -.\Device;.\App_User\Include) DEBUG OBJECTEXTEND PRINT(.\Listings\LED_Mode.lst) OBJECT(.\Objects\LED_Mode.obj)

line level    source

   1          /*******************/
   2          /*头文件header file*/
   3          /*******************/
   4          #include "app_main.h"
*** WARNING C329 IN LINE 16 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 17 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 20 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 21 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 24 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 25 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 28 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 29 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 32 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 33 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 36 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 37 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 40 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 41 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 44 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 45 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 48 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 49 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 52 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 53 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 56 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 57 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 60 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 61 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 64 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
C51 COMPILER V9.00   LED_MODE                                                              11/09/2018 13:59:03 PAGE 2   

*** WARNING C329 IN LINE 65 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 68 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 69 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 72 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 73 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 76 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 77 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 80 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 81 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 84 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 85 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 88 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 89 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 92 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 93 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 96 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 97 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\LE
             -D_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 100 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 101 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 104 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 105 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 108 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 109 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 112 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 113 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 116 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 117 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 120 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
*** WARNING C329 IN LINE 121 OF \HOMEWORK\KEIL5\PROJECT\PROJECT.COMPANY\7、GP-095\GP-095_BT-LED_ALARM\APP_USER\INCLUDE\L
             -ED_MODE.H: single-line comment contains line-continuation
   5          
   6          /************************/
   7          /*宏定义macro definition*/
   8          /************************/
C51 COMPILER V9.00   LED_MODE                                                              11/09/2018 13:59:03 PAGE 3   

   9          u8 dispBuff[5];
  10          #define DIG_NUM1 dispBuff[0]
  11          #define DIG_NUM2 dispBuff[1]
  12          #define DIG_NUM3 dispBuff[2]
  13          #define DIG_NUM4 dispBuff[3]
  14          #define DIG_NUM5 dispBuff[4]
  15          /*************************/
  16          /*类型定义byte definition*/
  17          /*************************/
  18          LED_BRIGHTNESS_TypeDef  LED_Brightness_TypeDef;
  19          ALRAM_TypeDef  Alarm1_TypeDef;
  20          
  21          /****************************/
  22          /*标志位定义flags definetion*/
  23          /****************************/
  24          BOOL  gbDispSetA1;
  25          
  26          //变量定义
  27          u8 bdata lcd_BitRam0;
  28          u8 bdata lcd_BitRam1;
  29          
  30          sbit  gblcd_buz1   = lcd_BitRam0 ^ 0;
  31          sbit  gblcd_radio1 = lcd_BitRam0 ^ 1;
  32          sbit  gblcd_buz2   = lcd_BitRam0 ^ 2;
  33          sbit  gblcd_radio2 = lcd_BitRam0 ^ 3;
  34          sbit  gblcd_dot    = lcd_BitRam0 ^ 4;
  35          sbit  gblcd_colon  = lcd_BitRam0 ^ 5;
  36          sbit  gblcd_sleep  = lcd_BitRam0 ^ 6;
  37          sbit  gblcd_aux    = lcd_BitRam0 ^ 7;
  38          sbit  gblcd_am     = lcd_BitRam1 ^ 0;
  39          sbit  gblcd_pm     = lcd_BitRam1 ^ 1;
  40          sbit  gblcd_fm     = lcd_BitRam1 ^ 2;
  41          sbit  gblcd_mw     = lcd_BitRam1 ^ 3;
  42          sbit  gblcd_mhz    = lcd_BitRam1 ^ 4;
  43          sbit  gblcd_khz    = lcd_BitRam1 ^ 5;
  44          sbit  gblcd_five   = lcd_BitRam1 ^ 6;
  45          /*****************************/
  46          /*变量定义variable definition*/
  47          /*****************************/
  48          u8               dispStatusNum;//cntDispStatus;
  49          
  50          
  51          /**************************/
  52          /*数组定义array definition*/
  53          /**************************/
  54          code u8 dispCode_Arr[]=  //arr:array
  55          {
  56                  DIG_0,DIG_1,DIG_2,DIG_3,DIG_4,DIG_5,DIG_6,DIG_7,DIG_8,DIG_9,DIG_NONE,
  57                  CH_a,CH_b,CH_c,CH_d,CH_h,CH_l,
  58                  CH_n,CH_o,CH_r,CH_t,CH_u,CH_y,
  59                  CH_A,CH_C,CH_E,CH_F,CH_G,CH_H,CH_I,CH_J,CH_L,
  60                  CH_N,CH_O,CH_P,CH_S,CH_U,CH__,
  61          };
  62          
  63          /******************************/
  64          /*函数声明Function declaration*/
  65          /******************************/
  66          
  67          /*****************************/
  68          /*函数定义function definetion*/
  69          /*****************************/
  70          
C51 COMPILER V9.00   LED_MODE                                                              11/09/2018 13:59:03 PAGE 4   

  71          
  72          /*******************************************************************************
  73           * 函数原型：
  74           * 输入参数：
  75           * 输出参数：
  76           * 函数功能：
  77           * 返回值说明：
  78           * 创建日期：
  79           * 创建人：
  80           * 修改日期
  81           * 修改人：
  82           * 第N次修改：
  83           * 修改原因：
  84           * 备注：
  85           *******************************************************************************/
  86          void DisplayNum12(u8 dat)
  87          {
  88   1              DIG_NUM1 = (dat / 10);
  89   1              DIG_NUM2 = (dat % 10);
  90   1              if (!DIG_NUM1)
  91   1                      DIG_NUM1 = eD_NONE;
  92   1      }
  93          
  94          /*******************************************************************************
  95           * 函数原型：
  96           * 输入参数：
  97           * 输出参数：
  98           * 函数功能：
  99           * 返回值说明：
 100           * 创建日期：
 101           * 创建人：
 102           * 修改日期
 103           * 修改人：
 104           * 第N次修改：
 105           * 修改原因：
 106           * 备注：
 107           *******************************************************************************/
 108          void DisplayNum34(u8 dat)
 109          {
 110   1              DIG_NUM3 = (dat / 10);
 111   1              DIG_NUM4 = (dat % 10);
 112   1      }
 113          
 114          /*******************************************************************************
 115           * 函数原型：
 116           * 输入参数：
 117           * 输出参数：
 118           * 函数功能：
 119           * 返回值说明：
 120           * 创建日期：
 121           * 创建人：
 122           * 修改日期
 123           * 修改人：
 124           * 第N次修改：
 125           * 修改原因：
 126           * 备注：
 127           *******************************************************************************/
 128          BOOL NoFlash(void)
 129          {
 130   1              if (cntNoFlash != 0)
 131   1              {
 132   2                      //cntNoFlash--;
C51 COMPILER V9.00   LED_MODE                                                              11/09/2018 13:59:03 PAGE 5   

 133   2                      return 1;
 134   2              }
 135   1              return 0;
 136   1      }
 137          
 138          /*******************************************************************************
 139           * 函数原型：
 140           * 输入参数：
 141           * 输出参数：
 142           * 函数功能：
 143           * 返回值说明：
 144           * 创建日期：
 145           * 创建人：
 146           * 修改日期
 147           * 修改人：
 148           * 第N次修改：
 149           * 修改原因：
 150           * 备注：
 151           *******************************************************************************/
 152          void Display_HH_MM(u8 hh_mm_TypeDef)
 153          {
 154   1              u8  tmpHour, tmpMinute;
 155   1              switch (hh_mm_TypeDef)
 156   1              {
 157   2                      case eDS_RTC:
 158   2                              tmpHour=gRTC_Hour;
 159   2                              tmpMinute=gRTC_Minute;
 160   2                              break;
 161   2                      case eDS_AL1:
 162   2                              tmpHour = Alarm1_TypeDef.hour;
 163   2                              tmpMinute = Alarm1_TypeDef.minute;
 164   2                              break;
 165   2              }
 166   1              if (gb12HourDisp)
 167   1              {
 168   2                      if (tmpHour < 12)  //如果小于12则是凌晨0点到11:59，为上午
 169   2                      {
 170   3                              gblcd_am = 1;
 171   3                      }
 172   2                      else
 173   2                      {
 174   3                              gblcd_pm = 1; //如果大于12则是12:00到23:59，为下午
 175   3                              tmpHour -= 12;//因为是12小时制，所以下午的时间也是12小时制显示，要减12
 176   3                      }
 177   2                      if (tmpHour == 0) //
 178   2                      {
 179   3                              tmpHour = 12;
 180   3                      }
 181   2                      DisplayNum12(tmpHour);
 182   2                      DisplayNum34(tmpMinute);
 183   2              }
 184   1      }
 185          
 186          /*******************************************************************************
 187           * 函数原型：
 188           * 输入参数：
 189           * 输出参数：
 190           * 函数功能：
 191           * 返回值说明：
 192           * 创建日期：
 193           * 创建人：
 194           * 修改日期
C51 COMPILER V9.00   LED_MODE                                                              11/09/2018 13:59:03 PAGE 6   

 195           * 修改人：
 196           * 第N次修改：
 197           * 修改原因：
 198           * 备注：
 199           *******************************************************************************/
 200          void Display_ALarm1(void)
 201          {
 202   1              gblcd_colon = 1;
 203   1              Display_HH_MM(eDS_AL1);
 204   1      }
 205          
 206          /*******************************************************************************
 207           * 函数原型：
 208           * 输入参数：
 209           * 输出参数：
 210           * 函数功能：
 211           * 返回值说明：
 212           * 创建日期：
 213           * 创建人：
 214           * 修改日期
 215           * 修改人：
 216           * 第N次修改：
 217           * 修改原因：
 218           * 备注：
 219           *******************************************************************************/
 220          void Display_SetAlarm1(void)
 221          {
 222   1              if ((gb0_5s) || (NoFlash()))
 223   1              {
 224   2                      gblcd_colon = 1;
 225   2                      Display_HH_MM(eDS_AL1);
 226   2              }
 227   1      }
 228          
 229          /*******************************************************************************
 230           * 函数原型：
 231           * 输入参数：
 232           * 输出参数：
 233           * 函数功能：
 234           * 返回值说明：
 235           * 创建日期：
 236           * 创建人：
 237           * 修改日期
 238           * 修改人：
 239           * 第N次修改：
 240           * 修改原因：
 241           * 备注：
 242           *******************************************************************************/
 243          void Display_SetRTC(void)
 244          {
 245   1              if ((gb0_5s) || (NoFlash()))
 246   1              {
 247   2                      gblcd_colon = 1;
 248   2                      Display_HH_MM(eDS_RTC);
 249   2              }
 250   1      }
 251          
 252          /*******************************************************************************
 253           * 函数原型：
 254           * 输入参数：
 255           * 输出参数：
 256           * 函数功能：
C51 COMPILER V9.00   LED_MODE                                                              11/09/2018 13:59:03 PAGE 7   

 257           * 返回值说明：
 258           * 创建日期：
 259           * 创建人：
 260           * 修改日期
 261           * 修改人：
 262           * 第N次修改：
 263           * 修改原因：
 264           * 备注：
 265           *******************************************************************************/
 266          void Display_RTC(void)
 267          {
 268   1              if ((!gbUser_AdjClk) || (gbHalfSecond))
 269   1              {
 270   2                      gblcd_colon = 1;
 271   2                      Display_HH_MM(eDS_RTC);
 272   2              }
 273   1      }
 274          
 275          /*******************************************************************************
 276           * 函数原型：
 277           * 输入参数：
 278           * 输出参数：
 279           * 函数功能：
 280           * 返回值说明：
 281           * 创建日期：
 282           * 创建人：
 283           * 修改日期
 284           * 修改人：
 285           * 第N次修改：
 286           * 修改原因：
 287           * 备注：
 288           *******************************************************************************/
 289          void Display_Zone(void) //什么意思
 290          {
 291   1              if ((gb0_5s) || (NoFlash()))
 292   1              {
 293   2                      DisplayNum34(gZone);
 294   2              }
 295   1      }
 296          
 297          /*******************************************************************************
 298           * 函数原型：
 299           * 输入参数：
 300           * 输出参数：
 301           * 函数功能：清除显示缓存
 302           * 返回值说明：
 303           * 创建日期：
 304           * 创建人：
 305           * 修改日期
 306           * 修改人：
 307           * 第N次修改：
 308           * 修改原因：
 309           * 备注：
 310           *******************************************************************************/
 311          void ClearDisplayBuff(void)
 312          {
 313   1              u8  clearCnt;
 314   1              for (clearCnt = 0; clearCnt < 5; clearCnt++)
 315   1              {
 316   2                      dispBuff[clearCnt] = eD_NONE;
 317   2              }
 318   1              lcd_BitRam0 = 0;
C51 COMPILER V9.00   LED_MODE                                                              11/09/2018 13:59:03 PAGE 8   

 319   1              lcd_BitRam1 = 0;
 320   1      }
 321          
 322          /*******************************************************************************
 323           * 函数原型：
 324           * 输入参数：
 325           * 输出参数：
 326           * 函数功能：
 327           * 返回值说明：
 328           * 创建日期：
 329           * 创建人：
 330           * 修改日期
 331           * 修改人：
 332           * 第N次修改：
 333           * 修改原因：
 334           * 备注：
 335           *******************************************************************************/
 336          void Display_Off(void)
 337          {
 338   1              DIG_NUM1 = eD_NONE;
 339   1              DIG_NUM2 = eD_O;
 340   1              DIG_NUM3 = eD_F;
 341   1              DIG_NUM4 = eD_F;
 342   1      }
 343          
 344          /*******************************************************************************
 345           * 函数原型：
 346           * 输入参数：
 347           * 输出参数：
 348           * 函数功能：
 349           * 返回值说明：
 350           * 创建日期：
 351           * 创建人：
 352           * 修改日期
 353           * 修改人：
 354           * 第N次修改：
 355           * 修改原因：
 356           * 备注：
 357           *******************************************************************************/
 358          void Display_AllFlag(void)
 359          {
 360   1              if (Alarm1_TypeDef.AlarmWorkMode == ALARM_BEEP)//闹钟响时的工作模式，
 361   1                      gblcd_buz1 = 1;
 362   1              else if (Alarm1_TypeDef.AlarmWorkMode == ALARM_BT)
 363   1              {
 364   2                      if ((Alarm1_TypeDef.Alarm_OnOff == ALARM_ON) && (Alarm1_TypeDef.AlarmSnooze == ALARM_SNOOZE_OFF))
 365   2                      {
 366   3      
 367   3                      }
 368   2              }
 369   1      }
 370          
 371          /*******************************************************************************
 372           * 函数原型：
 373           * 输入参数：
 374           * 输出参数：
 375           * 函数功能：
 376           * 返回值说明：
 377           * 创建日期：
 378           * 创建人：
 379           * 修改日期
 380           * 修改人：
C51 COMPILER V9.00   LED_MODE                                                              11/09/2018 13:59:03 PAGE 9   

 381           * 第N次修改：
 382           * 修改原因：
 383           * 备注：
 384           *******************************************************************************/
 385          void UpdateDisplay(u8 dispStatus)
 386          {
 387   1              switch (dispStatus)
 388   1              {
 389   2                      case DISP_AL1:
 390   2                              Display_ALarm1();   
 391   2                              break;
 392   2                      case ADJ_CLK:
 393   2                              Display_SetRTC(); //设置RTC时的显示
 394   2                              break;
 395   2                      case ADJ_ZONE:
 396   2                              Display_Zone();
 397   2                              break; 
 398   2                      case ADJ_ALARM1:
 399   2                              Display_SetAlarm1(); //设置闹钟时的显示
 400   2                              break; 
 401   2                      case POWER_OFF_DISP:
 402   2                              Display_Off();
 403   2                              break; 
 404   2                      default:
 405   2                              Display_RTC();    //RTC走时状态显示
 406   2                              break;
 407   2              }
 408   1              if (cntNoFlash != 0)
 409   1                      cntNoFlash--;
 410   1      }
 411          
 412          /*******************************************************************************
 413           * 函数原型：
 414           * 输入参数：
 415           * 输出参数：
 416           * 函数功能：
 417           * 返回值说明：
 418           * 创建日期：
 419           * 创建人：
 420           * 修改日期
 421           * 修改人：
 422           * 第N次修改：
 423           * 修改原因：
 424           * 备注：
 425           *******************************************************************************/
 426          void Display_Flag(void)
 427          {
 428   1              if (dispStatus == ADJ_CLK)
 429   1                      return;
 430   1              if ((dispStatus == ADJ_ALARM1) || (Alarm1_TypeDef.Alarm_OnOff == ALARM_ON))
 431   1              {
 432   2                      if (dispStatus == ADJ_ALARM1)
 433   2                      {
 434   3                              if ((gb0_5s) || (NoFlash()))
 435   3                                      Display_AllFlag();
 436   3                      }
 437   2              }
 438   1      }
 439          
 440          /*******************************************************************************
 441           * 函数原型：
 442           * 输入参数：
C51 COMPILER V9.00   LED_MODE                                                              11/09/2018 13:59:03 PAGE 10  

 443           * 输出参数：
 444           * 函数功能：
 445           * 返回值说明：
 446           * 创建日期：
 447           * 创建人：
 448           * 修改日期
 449           * 修改人：
 450           * 第N次修改：
 451           * 修改原因：
 452           * 备注：
 453           *******************************************************************************/
 454          void Display(void)
 455          {
 456   1              u8  cnt;
 457   1              if ((gbUser_AdjClk) || (dispStatusNum))
 458   1              {
 459   2                      ClearDisplayBuff(); //清除显示缓存
 460   2                      UpdateDisplay(dispStatus);
 461   2                      Display_Flag();
 462   2                      
 463   2              }
 464   1      }
*** WARNING C280 IN LINE 456 OF APP_USER\SOURCE\LED_MODE.C: 'cnt': unreferenced local variable
 465          
 466           /*******************************************************************************
 467            * 函数原型：
 468            * 输入参数：
 469            * 输出参数：
 470            * 函数功能：
 471            * 返回值说明：
 472            * 创建日期：
 473            * 创建人：
 474            * 修改日期
 475            * 修改人：
 476            * 第N次修改：
 477            * 修改原因：
 478            * 备注：
 479            *******************************************************************************/
 480          
 481          
 482          
 483          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    315    ----
   CONSTANT SIZE    =     38    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     20       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  55 WARNING(S),  0 ERROR(S)
